<odoo>
    <data>
        <record id="stock_picking_form_inherit" model="ir.ui.view">
            <field name="name">Export Page</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock.view_picking_form"/>
            <field name="arch" type="xml">
                <field name="backorder_id" position="after">
                    <field name="picking_type_code" invisible="1"/>
                    <field name="consignee_id"
                           attrs="{'invisible':[('picking_type_code', '!=', 'outgoing')]}"
                    />
                    <field name="notify_ids"
                           attrs="{'invisible':[('picking_type_code', '!=', 'outgoing')]}"
                    />
                </field>
                <xpath expr="//page[@name='extra']" position="after">
                    <page string="COMEX" id="export_data"
                          attrs="{'invisible':[('picking_type_code', '!=', 'outgoing')]}"
                    >
                        <group name="export_data"
                               position="inside"
                        >
                            <group string="Información de envío"
                                   style="width:100%%"
                            >
                                <group>
                                    <!--
                                    <field name="reserved_amount"/>
                                    -->
                                    <field name="is_dispatcher" invisible="1"/>
                                    <field name="shipping_number"/>
                                    <field name="contract_correlative_view"/>
                                    <field name="contract_correlative" invisible="1"/>
                                    <field name="shipping_id" attrs="{'readonly':[('is_dispatcher', '=', 1)]}"/>
                                    <field name="agent_id"/>
                                    <field name="total_commission"/>
                                    <field name="charging_mode"/>
                                    <field name="booking_number"/>
                                    <field name="bl_number"/>
                                    <field name="container_number"
                                           placeholder="Ingrese número de contenedor"/>
                                    <field name="container_type"
                                           placeholder="Seleccione el tipo de contenedor"/>
                                </group>
                                <group>
                                    <field name="client_label"/>
                                    <field name="client_label_file"
                                           attrs="{'invisible':[('client_label', '=', False)]}"
                                    />
                                    <field name="freight_value"/>
                                    <field name="safe_value"/>
                                    <field name="total_value"/>
                                    <field name="value_per_kilogram"/>
                                </group>
                            </group>
                            <group style="width:100%%">
                                <group>
                                    <field name="remarks"/>
                                </group>
                            </group>
                        </group>
                    </page>
                </xpath>
                <xpath expr="//page[@name='note']" position="after">
                    <page string="Despacho" id="dispatch_data"
                          attrs="{'invisible':[('picking_type_code', '!=', 'outgoing')]}"
                    >
                        <group name="dispatch_data" position="inside" style="width:100%%">
                            <group string="Información de Despacho" style="width:100%%">
                                <group>
                                    <field name="type_of_dispatch" widget="radio"/>
                                    <field name="type_of_transfer_list"/>
                                </group>
                                <group attrs="{'invisible':[('type_of_dispatch','!=','exp')]}" style="width:100%%;">
                                    <group string="Pesos">
                                        <field name="net_weight_dispatch"/>
                                        <field name="gross_weight_dispatch"/>
                                        <field name="tare_container_weight_dispatch"/>
                                        <field name="container_weight"/>
                                        <field name="arrival_weight"/>
                                        <field name="departure_weight"/>
                                        <field name="vgm_weight_dispatch" readonly="1"/>
                                    </group>
                                    <group string="Informacion de Exportacion">
                                        <field name="note_dispatched"/>
                                        <field name="sell_truck"/>
                                        <field name="dispatch_guide_number"/>
                                        <field name="transport"/>
                                        <field name="sell_sag"/>
                                        <field name="gps_lock"/>
                                        <field name="gps_button"/>
                                        <field name="hour_arrival" widget="float_time"/>
                                        <field name="hour_departure" widget="float_time"/>
                                        <field name="dus_number"/>
                                        <field name="sell_shipping"/>
                                    </group>

                                </group>
                            </group>
                            <group string="Fotos de Camión" style="width:100%%;">
                                <field name="picture" widget="many2many_binary"/>
                            </group>
                            <group>
                                <field name="pictures">
                                    <tree editable="bottom" edit="True">
                                        <field name="datas_fname" string="Archivo" readonly="1"/>
                                        <field name="counter"/>
                                    </tree>
                                </field>
                            </group>
                            <group>
                                <button string="Crear Reporte" name="generate_report" type="object"/>
                            </group>
                        </group>
                    </page>
                </xpath>
                <xpath expr="//field[@name='move_ids_without_package']/tree//field[@name='product_id']"
                       position="after">
                    <field name="variety"></field>
                    <field name="brand"></field>
                    <field name="type_of_package"></field>
                    <field name="specie"></field>
                </xpath>
                <xpath expr="//header">
                    <button name="generate_packing_list" type="object" string="Packing List" attrs="{'invisible':[('picking_type_code', '!=', 'outgoing')]}"/>
                    <button name="generate_inform" type="object" string="Informe de Trazabilidad" attrs="{'invisible':[('picking_type_code', '!=', 'outgoing')]}"/>
                </xpath>
            </field>
        </record>
    </data>
</odoo>
